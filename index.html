<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadoras</title>
    <link rel="stylesheet" href="style1.css" id="style">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="apple-touch-icon" sizes="57x57" href="img/icon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="img/icon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/icon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="img/icon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/icon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="img/icon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="img/icon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/icon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/icon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="img/icon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="img/icon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/icon/favicon-16x16.png">
    <link rel="manifest" href="img/icon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="img/icon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
</head>
<body>
    <div onclick="toggleStyles()" class="toggleStyles"></div>
    <div class="overlay" onclick="toggleMenu()"></div>
    <div class="toggle" onclick="toggleMenu()">+</div>
    <h1>Curso: gasista de unidades unifuncionales, CFL 401</h1>
    <div class="menu">
        <ul>
            <li><a href="#cm3">Calc. m3</a></li>
            <li><a href="#cc3">Calc. consumo en m3</a></li>
            <li><a href="#ct">Calc. térmica</a></li>
            <li><a href="#cr">Calc. rejillas de 100cm2</a></li>
            <li><a href="#cc">Calc. diámetro de caño</a></li>
        </ul>
    </div>
    <div class="container">
        <div class="calculator" id="cm3">
            <h2>Calculadora de m3</h2>
            <input type="number" id="length" placeholder="Longitud (m)">
            <input type="number" id="width" placeholder="Ancho (m)">
            <input type="number" id="height" placeholder="Altura (m)">
            <button onclick="calculateVolume()">Calcular</button>
            <p id="result"></p>
        </div>
        <div class="calculator" id="cc3">
            <h2>Calculadora de consumo en m3</h2>
            <div id="dataSets">
                <div class="dataSet">
                    <input type="number" class="data" placeholder="Ingrese calorías del artefacto">
                    <button onclick="removeDataSet(this)" class="eliminar">Eliminar</button>
                </div>
            </div>
            <button onclick="calculateDivisionAndSum()">Calcular</button>
            <p id="divisionResult"></p>
            <p id="sumResult"></p>
            <button onclick="addDataSet()">Agregar otro artefacto</button>
        </div>
        <div class="calculator" id="ct">
            <h2>Calculadora Térmica</h2>
            <label for="option">¿El ambiente a calefaccionar es un dormitorio o un baño?</label>
            <select id="option">
                <option value="SI">Sí</option>
                <option value="NO">No</option>
            </select>
            <input type="number" id="value" placeholder="Ingrese m3 del ambiente">
            <button onclick="calculateCustom()">Calcular</button>
            <p id="customResult"></p>
        </div>
        <div class="calculator" id="cr">
            <h2>Calculadora de rejillas de 100cm2</h2>
            <div id="subtractionCalculator">
                <div class="dataSet">
                    <input type="number" class="data" placeholder="Calorías a evacuar u oxigenar">
                    <button onclick="removeDataSet(this)" class="eliminar">Eliminar</button>
                </div>
            </div>
            <button onclick="calculateSubtraction()">Calcular</button>
            <p id="subtractionResult"></p>
            <p id="subtractionCount"></p>
            <button onclick="addSubtractionData()">Agregar otro artefacto</button>
        </div>
<div class="calculator" id="cc">
            <h2>Calculadora de diámetro de caño</h2>
            <input type="number" id="inputX" step="0.01" placeholder="Ingrese longitud (metros)">
            <input type="number" id="inputY" step="0.01" placeholder="Ingrese caudal en m3">
            <button onclick="encontrarNumeroCercano()">Buscar</button>
            <p id="resultado"></p>
        </div>
    </div>
    <script>
        var tabla = [
            [0, 9.5, 13, 19, 25, 32, 38, 51],
            [2, 1.745, 3.580, 9.895, 20.260, 35.695, 55.835, 114.615],
            [3, 1.425, 2.925, 8.065, 16.540, 28.900, 45.585, 93.580],
            [4, 1.235, 2.535, 6.985, 14.325, 25.030, 39.480, 81.050],
            [5, 1.105, 2.265, 6.250, 12.810, 22.685, 35.310, 72.490],
            [6, 1.005, 2.070, 5.705, 11.695, 20.435, 32.230, 66.165],
            [7, 0.930, 1.915, 5.280, 10.835, 18.920, 29.845, 61.265],
            [8, 0.870, 1.790, 4.940, 10.130, 17.695, 27.910, 57.295],
            [9, 0.820, 1.690, 4.655, 9.550, 16.685, 26.320, 54.025],
            [10, 0.780, 1.600, 4.420, 9.060, 15.825, 24.965, 51.245],
            [12, 0.710, 1.460, 4.035, 8.270, 14.450, 22.790, 46.790],
            [14, 0.660, 1.365, 3.735, 7.655, 13.375, 21.100, 43.315],
            [16, 0.615, 1.265, 3.495, 7.160, 12.510, 19.595, 40.515],
            [18, 0.580, 1.195, 3.290, 6.750, 11.795, 18.605, 38.190],
            [20, 0.550, 1.130, 3.125, 6.405, 11.190, 17.655, 36.240],
            [22, 0.525, 1.080, 2.980, 6.105, 10.670, 16.830, 34.550],
            [24, 0.500, 1.035, 2.850, 5.845, 10.215, 16.110, 33.060],
            [26, 0.480, 0.990, 2.740, 5.620, 9.815, 15.485, 31.785],
            [28, 0.465, 0.960, 2.640, 5.415, 9.460, 14.920, 30.630],
            [30, 0.450, 0.925, 2.550, 5.230, 9.135, 14.100, 29.580],
            [32, 0.435, 0.895, 2.470, 5.065, 8.850, 13.955, 29.075],
            [34, 0.420, 0.870, 2.395, 4.910, 8.580, 13.535, 27.785],
            [36, 0.410, 0.845, 2.330, 4.775, 8.340, 13.155, 27.005],
            [38, 0.400, 0.820, 2.265, 4.650, 8.120, 12.805, 26.295],
            [40, 0.390, 0.800, 2.210, 4.525, 7.910, 12.480, 25.615],
            [42, 0.380, 0.780, 2.155, 4.420, 7.720, 12.180, 25.005],
            [44, 0.370, 0.765, 2.105, 4.320, 7.545, 11.900, 24.430],
            [46, 0.360, 0.750, 2.060, 4.220, 7.370, 11.630, 23.880],
            [48, 0.355, 0.730, 2.015, 4.135, 7.225, 11.395, 23.395],
            [50, 0.350, 0.715, 1.975, 4.035, 7.075, 11.165, 22.920],
            [55, 0.330, 0.685, 1.885, 3.860, 6.750, 10.845, 21.850],
            [60, 0.315, 0.655, 1.805, 3.695, 6.460, 10.190, 20.920],
            [65, 0.305, 0.630, 1.735, 3.545, 6.205, 9.790, 20.120],
            [70, 0.295, 0.610, 1.670, 3.405, 5.970, 9.415, 19.390],
            [75, 0.285, 0.590, 1.615, 3.290, 5.765, 9.095, 18.730],
            [80, 0.275, 0.575, 1.560, 3.175, 5.565, 8.795, 18.110],
            [85, 0.270, 0.560, 1.515, 3.075, 5.380, 8.515, 17.560],
            [90, 0.265, 0.550, 1.470, 2.985, 5.205, 8.265, 17.030],
            [95, 0.260, 0.535, 1.430, 2.900, 5.050, 8.025, 16.535],
            [100, 0.255, 0.525, 1.395, 2.820, 4.905, 7.800, 16.080]
        ];

        var valoresFijos = [0, 9.5, 13, 19, 25, 32, 38, 51];

        function encontrarNumeroCercano() {
            var x = parseFloat(document.getElementById('inputX').value);
            var y = parseFloat(document.getElementById('inputY').value);
            
            // Redondear x al valor más grande en su columna
            for (var i = 0; i < tabla.length; i++) {
                if (tabla[i][0] >= x) {
                    x = tabla[i][0];
                    break;
                }
            }

            var indiceX = -1;
            var diffX = Number.MAX_VALUE;
            // Encontrar el índice de X y el valor de X igual o cercano más grande
            for (var i = 0; i < tabla.length; i++) {
                var tempDiff = Math.abs(tabla[i][0] - x);
                if (tempDiff < diffX) {
                    indiceX = i;
                    diffX = tempDiff;
                }
            }

            if (indiceX !== -1) {
                var fila = tabla[indiceX];
                var indiceY = -1;
                var diffY = Number.MAX_VALUE;
                // Buscar el índice de Y y el valor de Y igual o cercano más cercano a Y
                for (var j = 1; j < fila.length; j++) {
                    var tempDiff = fila[j] - y;
                    if (tempDiff >= 0 && tempDiff < diffY) {
                        indiceY = j;
                        diffY = tempDiff;
                    }
                }

                if (indiceY !== -1) {
                    var columna = indiceY;
                    if (columna < valoresFijos.length) {
                        document.getElementById('resultado').innerHTML = "El diámetro del caño debe ser de: " + valoresFijos[columna] + "mm." + "<br>" + 
                        "<table>" +
                        "<tr>" +
                        "<th>Milímetros</th>" +
                        "<td>9.5</td>" +
                        "<td>13</td>" +
                        "<td>19</td>" +
                        "<td>25</td>" +
                        "<td>32</td>" +
                        "<td>38</td>" +
                        "<td>51</td>" +
                        "</tr>" +
                        "<tr>" +
                        "<th>Pulgadas</th>" +
                        "<td>3/8</td>" +
                        "<td>1/2</td>" +
                        "<td>3/4</td>" +
                        "<td>1</td>" +
                        "<td>1 1/4</td>" +
                        "<td>1 1/2</td>" +
                        "<td>2</td>" +
                        "</tr>" +
                        "</table>";


                    } else {
                        document.getElementById('resultado').textContent = "No se encontró ningún valor fijo asociado a la columna donde se encuentra " + y + ".";
                    }
                } else {
                    document.getElementById('resultado').textContent = "No se encontró ningún valor siguiente más cercano a " + y + " en la fila correspondiente a " + x + ".";
                }
            } else {
                document.getElementById('resultado').textContent = "No se encontró ningún valor igual o cercano a" + y + " en la tabla.";
            }
        }
    </script>
    </div>
    <script src="functions.js"></script>
</body>
</html>


